[supervisord]
nodaemon=true
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid
user=root

[program:ttyd]
command=ttyd -W -p %(ENV_TTYD_PORT)s -t fontSize=14 -t theme={'background':'#1e1e1e','foreground':'#d4d4d4'} su - claude -c "cd /home/claude/workspace && claude; exec bash"
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:auth-proxy]
command=node /app/auth-proxy/server.js
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0
environment=PROXY_PORT="%(ENV_PROXY_PORT)s",TTYD_URL="%(ENV_TTYD_URL)s",AUTH_PASSWORD="%(ENV_AUTH_PASSWORD)s"
